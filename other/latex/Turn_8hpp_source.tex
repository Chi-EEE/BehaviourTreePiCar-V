\hypertarget{Turn_8hpp_source}{}\doxysection{Turn.\+hpp}
\label{Turn_8hpp_source}\index{behaviour\_tree\_car/include/behaviour\_tree/node/custom/action/Turn.hpp@{behaviour\_tree\_car/include/behaviour\_tree/node/custom/action/Turn.hpp}}
\mbox{\hyperlink{Turn_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef BEHAVIOUR\_TREE\_TURN\_HPP}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define BEHAVIOUR\_TREE\_TURN\_HPP}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{CustomNode_8hpp}{behaviour\_tree/node/custom/CustomNode.hpp}}"{}}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Context_8h}{behaviour\_tree/Context.h}}"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#ifndef BEHAVIOUR\_TREE\_DISABLE\_RUN}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}behaviour\_tree/CarContext.hpp"{}}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// !BEHAVIOUR\_TREE\_DISABLE\_RUN}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacebehaviour__tree_1_1node_1_1custom_1_1action}{behaviour\_tree::node::custom::action}}}
\DoxyCodeLine{15 \{}
\DoxyCodeLine{16     \textcolor{keyword}{class }\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn}{Turn}} final : \textcolor{keyword}{public} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1CustomNode}{CustomNode}}}
\DoxyCodeLine{17     \{}
\DoxyCodeLine{18     \textcolor{keyword}{public}:}
\DoxyCodeLine{19         \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a7f7bb9a22395ea16cee8221b0fc2ade6}{Turn}}(\textcolor{keyword}{const} std::string \&\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}}, \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a14290839b1c9bc9401c8c1b4931901b5}{angle}}) : \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1CustomNode}{CustomNode}}(\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}}), \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a14290839b1c9bc9401c8c1b4931901b5}{angle}}(\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a14290839b1c9bc9401c8c1b4931901b5}{angle}})}
\DoxyCodeLine{20         \{}
\DoxyCodeLine{21         \}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23         \textcolor{keyword}{const} \textcolor{keyword}{static} tl::expected<std::shared\_ptr<Turn>, std::string> \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a8f999888cf6b32b7be15fe33d7bad075}{parse}}(\textcolor{keyword}{const} pugi::xml\_node \&node, \textcolor{keyword}{const} \textcolor{keywordtype}{int} index, \textcolor{keyword}{const} std::string \&name\_attribute)}
\DoxyCodeLine{24         \{}
\DoxyCodeLine{25             \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a14290839b1c9bc9401c8c1b4931901b5}{angle}} = node.attribute(\textcolor{stringliteral}{"{}angle"{}}).as\_int();}
\DoxyCodeLine{26             \textcolor{keywordflow}{if} (angle < 0 || angle > 180)}
\DoxyCodeLine{27             \{}
\DoxyCodeLine{28                 \textcolor{keywordflow}{return} tl::unexpected(fmt::format(R\textcolor{stringliteral}{"{}(Invalid angle: '\{\}' | Action:SetAngle:['\{\}',\{\}])"{}, \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a14290839b1c9bc9401c8c1b4931901b5}{angle}}, name\_attribute, index));}}
\DoxyCodeLine{29 \textcolor{stringliteral}{            \}}}
\DoxyCodeLine{30 \textcolor{stringliteral}{            }\textcolor{keywordflow}{return} std::make\_shared<Turn>(\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn}{Turn}}(name\_attribute, \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a14290839b1c9bc9401c8c1b4931901b5}{angle}}));}
\DoxyCodeLine{31         \}}
\DoxyCodeLine{32 }
\DoxyCodeLine{33         \textcolor{keyword}{const} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997}{Status}} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a773a75938e87ac0accf924cbef707cf3}{run}}(\textcolor{keyword}{const} \textcolor{keywordtype}{int} tick\_count, std::shared\_ptr<Context> context) \textcolor{keyword}{final} \textcolor{keyword}{override}}
\DoxyCodeLine{34         \{}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#ifndef BEHAVIOUR\_TREE\_DISABLE\_RUN}}
\DoxyCodeLine{36             std::shared\_ptr<CarContext> car\_context = std::dynamic\_pointer\_cast<CarContext>(context);}
\DoxyCodeLine{37             \textcolor{keyword}{auto} car\_system = car\_context-\/>getCarSystem();}
\DoxyCodeLine{38             \textcolor{keyword}{const} MovementSystem *movement\_system = car\_system-\/>getMovementSystem();}
\DoxyCodeLine{39             movement\_system-\/>setFrontWheelsAngle(this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a521d1fb5a36ca0c848501ab480e8bb80}{getAngle}}());}
\DoxyCodeLine{40 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// !BEHAVIOUR\_TREE\_DISABLE\_RUN}}
\DoxyCodeLine{41             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997a505a83f220c02df2f85c3810cd9ceb38}{Status::Success}};}
\DoxyCodeLine{42         \}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44         \textcolor{keyword}{const} std::string \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a7cb0afb70132b5ae4f24b71dbe2db467}{toString}}() const final\textcolor{keyword}{ override}}
\DoxyCodeLine{45 \textcolor{keyword}{        }\{}
\DoxyCodeLine{46             \textcolor{keyword}{const} std::string \&\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}} = this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_ad9b3324377c0a8e45bf05999664aa263}{getName}}();}
\DoxyCodeLine{47             \textcolor{keywordflow}{if} (name != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{48                 \textcolor{keywordflow}{return} fmt::format(R\textcolor{stringliteral}{"{}(<Action:Turn name='\{\}' angle='\{\}'/>)"{}, \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}}, this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a521d1fb5a36ca0c848501ab480e8bb80}{getAngle}}());}}
\DoxyCodeLine{49 \textcolor{stringliteral}{            }\textcolor{keywordflow}{else}}
\DoxyCodeLine{50                 \textcolor{keywordflow}{return} fmt::format(R\textcolor{stringliteral}{"{}(<Action:Turn angle='\{\}'/>)"{}, this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a521d1fb5a36ca0c848501ab480e8bb80}{getAngle}}());}}
\DoxyCodeLine{51 \textcolor{stringliteral}{        \}}}
\DoxyCodeLine{52 \textcolor{stringliteral}{}}
\DoxyCodeLine{53 \textcolor{stringliteral}{        }\textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a521d1fb5a36ca0c848501ab480e8bb80}{getAngle}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{54 \textcolor{keyword}{        }\{}
\DoxyCodeLine{55             \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a14290839b1c9bc9401c8c1b4931901b5}{angle}};}
\DoxyCodeLine{56         \}}
\DoxyCodeLine{57 }
\DoxyCodeLine{58     \textcolor{keyword}{private}:}
\DoxyCodeLine{59         \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1custom_1_1action_1_1Turn_a14290839b1c9bc9401c8c1b4931901b5}{angle}};}
\DoxyCodeLine{60     \};}
\DoxyCodeLine{61 \}}
\DoxyCodeLine{62 }
\DoxyCodeLine{63 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
