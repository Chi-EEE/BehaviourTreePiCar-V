\hypertarget{Sequence_8hpp_source}{}\doxysection{Sequence.\+hpp}
\label{Sequence_8hpp_source}\index{behaviour\_tree/include/behaviour\_tree/node/composite/Sequence.hpp@{behaviour\_tree/include/behaviour\_tree/node/composite/Sequence.hpp}}
\mbox{\hyperlink{Sequence_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef BEHAVIOUR\_TREE\_SEQUENCE\_HPP}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define BEHAVIOUR\_TREE\_SEQUENCE\_HPP}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Composite_8hpp}{Composite.hpp}}"{}}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacebehaviour__tree_1_1node_1_1composite}{behaviour\_tree::node::composite}}}
\DoxyCodeLine{9 \{}
\DoxyCodeLine{10     \textcolor{keyword}{class }\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence}{Sequence}} final : \textcolor{keyword}{public} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Composite}{Composite}}}
\DoxyCodeLine{11     \{}
\DoxyCodeLine{12     \textcolor{keyword}{public}:}
\DoxyCodeLine{13         \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence_a4d4ec85a57679bfeceb9b4769c6d599b}{Sequence}}(\textcolor{keyword}{const} std::string\& \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}}, std::vector<std::shared\_ptr<Node>> \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Composite_a53f7bd51c86db41a54f0cd276fbfaf77}{children}}) : \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Composite}{Composite}}(\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}}, std::move(\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Composite_a53f7bd51c86db41a54f0cd276fbfaf77}{children}})) \{\}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15         \textcolor{keyword}{const} \mbox{\hyperlink{namespacebehaviour__tree_1_1node_1_1composite_a3f2cf132b2387c0cfb3ad9bb369cfb1c}{CompositeType}} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence_a9417a9b5bd7ddddf006a5bc728e2eb50}{type}}() const final\textcolor{keyword}{ override }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacebehaviour__tree_1_1node_1_1composite_a3f2cf132b2387c0cfb3ad9bb369cfb1ca3ff39d3acb327553070a64ef0cb321d5}{CompositeType::Sequence}}; \}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17         \textcolor{keywordtype}{void} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence_a9fad044b2ea5c9d75ac122bc4828c6dc}{start}}(std::shared\_ptr<Context> context) \textcolor{keyword}{final} \textcolor{keyword}{override} \{}
\DoxyCodeLine{18             this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence_a3652e4d41c4d9b8128f14b01016a4c4f}{previous\_start\_index}} = -\/1;}
\DoxyCodeLine{19         \}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21         \textcolor{keyword}{const} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997}{Status}} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence_a69e603487466f451c41076a539bea9d4}{run}}(\textcolor{keyword}{const} \textcolor{keywordtype}{int} tick\_count, std::shared\_ptr<Context> context) \textcolor{keyword}{final} \textcolor{keyword}{override}}
\DoxyCodeLine{22         \{}
\DoxyCodeLine{23             \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence_a69e603487466f451c41076a539bea9d4}{run}}(tick\_count, context, 0);}
\DoxyCodeLine{24         \}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26         \textcolor{keyword}{const} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997}{Status}} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence_a9cfaf06788bdac16847398a02b75a3ec}{run}}(\textcolor{keyword}{const} \textcolor{keywordtype}{int} tick\_count, std::shared\_ptr<Context> context, \textcolor{keyword}{const} \textcolor{keywordtype}{int} start\_index) \textcolor{keyword}{final} \textcolor{keyword}{override}}
\DoxyCodeLine{27         \{}
\DoxyCodeLine{28             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = start\_index; i < this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Composite_a53f7bd51c86db41a54f0cd276fbfaf77}{children}}.size(); i++)}
\DoxyCodeLine{29             \{}
\DoxyCodeLine{30                 \textcolor{keywordflow}{if} (this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence_a3652e4d41c4d9b8128f14b01016a4c4f}{previous\_start\_index}} != i) \{}
\DoxyCodeLine{31                     context-\/>pushNodeTrace(std::make\_pair(shared\_from\_this(), i));}
\DoxyCodeLine{32                 \}}
\DoxyCodeLine{33                 \textcolor{keyword}{auto}\& child = this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Composite_a53f7bd51c86db41a54f0cd276fbfaf77}{children}}[i];}
\DoxyCodeLine{34                 \textcolor{keyword}{auto} status = child-\/>tick(tick\_count, context);}
\DoxyCodeLine{35                 \textcolor{keywordflow}{switch} (status) \{}
\DoxyCodeLine{36                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997a5bda814c4aedb126839228f1a3d92f09}{Status::Running}}:}
\DoxyCodeLine{37                     this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence_a3652e4d41c4d9b8128f14b01016a4c4f}{previous\_start\_index}} = i;}
\DoxyCodeLine{38                     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997a5bda814c4aedb126839228f1a3d92f09}{Status::Running}};}
\DoxyCodeLine{39                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997a505a83f220c02df2f85c3810cd9ceb38}{Status::Success}}:}
\DoxyCodeLine{40                     context-\/>popNode();}
\DoxyCodeLine{41                     \textcolor{keywordflow}{continue};}
\DoxyCodeLine{42                 \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997ae139a585510a502bbf1841cf589f5086}{Status::Failure}}:}
\DoxyCodeLine{43                     context-\/>popNode();}
\DoxyCodeLine{44                     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997ae139a585510a502bbf1841cf589f5086}{Status::Failure}};}
\DoxyCodeLine{45                 \}}
\DoxyCodeLine{46             \}}
\DoxyCodeLine{47             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997a505a83f220c02df2f85c3810cd9ceb38}{Status::Success}};}
\DoxyCodeLine{48         \}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50         \textcolor{keyword}{const} std::string \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence_a8113284ee54d78cb0a465a4be2acde6c}{toString}}() const final\textcolor{keyword}{ override }\{}
\DoxyCodeLine{51             std::string out;}
\DoxyCodeLine{52             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& child : this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Composite_a53f7bd51c86db41a54f0cd276fbfaf77}{children}})}
\DoxyCodeLine{53             \{}
\DoxyCodeLine{54                 out += child-\/>toString();}
\DoxyCodeLine{55             \}}
\DoxyCodeLine{56             \textcolor{keyword}{const} std::string\& \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}} = this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_ad9b3324377c0a8e45bf05999664aa263}{getName}}();}
\DoxyCodeLine{57             \textcolor{keywordflow}{if} (name != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{58                 \textcolor{keywordflow}{return} fmt::format(R\textcolor{stringliteral}{"{}(<Sequence name='\{\}'>\{\}</Sequence>)"{}, \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}}, out);}}
\DoxyCodeLine{59 \textcolor{stringliteral}{            }\textcolor{keywordflow}{else}}
\DoxyCodeLine{60                 \textcolor{keywordflow}{return} fmt::format(R\textcolor{stringliteral}{"{}(<Sequence>\{\}</Sequence>)"{}, out);}}
\DoxyCodeLine{61 \textcolor{stringliteral}{        \}}}
\DoxyCodeLine{62 \textcolor{stringliteral}{}}
\DoxyCodeLine{63 \textcolor{stringliteral}{    }\textcolor{keyword}{private}:}
\DoxyCodeLine{64         \textcolor{keywordtype}{int} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1composite_1_1Sequence_a3652e4d41c4d9b8128f14b01016a4c4f}{previous\_start\_index}} = -\/1;}
\DoxyCodeLine{65     \};}
\DoxyCodeLine{66 \}}
\DoxyCodeLine{67 }
\DoxyCodeLine{68 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
