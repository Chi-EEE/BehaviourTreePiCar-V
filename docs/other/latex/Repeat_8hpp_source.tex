\hypertarget{Repeat_8hpp_source}{}\doxysection{Repeat.\+hpp}
\label{Repeat_8hpp_source}\index{behaviour\_tree/include/behaviour\_tree/node/decorator/Repeat.hpp@{behaviour\_tree/include/behaviour\_tree/node/decorator/Repeat.hpp}}
\mbox{\hyperlink{Repeat_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef BEHAVIOUR\_TREE\_REPEAT\_HPP}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define BEHAVIOUR\_TREE\_REPEAT\_HPP}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <numeric>}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Decorator_8hpp}{Decorator.hpp}}"{}}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacebehaviour__tree_1_1node_1_1decorator}{behaviour\_tree::node::decorator}}}
\DoxyCodeLine{11 \{}
\DoxyCodeLine{12     \textcolor{keyword}{class }\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat}{Repeat}} final : \textcolor{keyword}{public} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Decorator}{Decorator}}}
\DoxyCodeLine{13     \{}
\DoxyCodeLine{14     \textcolor{keyword}{public}:}
\DoxyCodeLine{15         \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a6937181ffe49c6f6e82446db7d03e557}{Repeat}}(\textcolor{keyword}{const} std::string\& \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}}, std::shared\_ptr<Node> \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Decorator_af173d187c2207095f51e61aea7dd87d5}{child}}, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_ae86585ff8107b5d51f91a09c6d203eb0}{amount}}, \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a1d59a502c801e1156349178d5085226c}{break\_on\_fail}}) : \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Decorator}{Decorator}}(\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}}, std::move(\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Decorator_af173d187c2207095f51e61aea7dd87d5}{child}})), \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_ae86585ff8107b5d51f91a09c6d203eb0}{amount}}(\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_ae86585ff8107b5d51f91a09c6d203eb0}{amount}}), \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a1d59a502c801e1156349178d5085226c}{break\_on\_fail}}(\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a1d59a502c801e1156349178d5085226c}{break\_on\_fail}})}
\DoxyCodeLine{16         \{}
\DoxyCodeLine{17         \}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19         \textcolor{keyword}{const} \mbox{\hyperlink{namespacebehaviour__tree_1_1node_1_1decorator_af345e3facbd64aad6479c9474d1ea990}{DecoratorType}} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a596d57aba10e746cfffaf45d5f559e3d}{type}}() const final\textcolor{keyword}{ override }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacebehaviour__tree_1_1node_1_1decorator_af345e3facbd64aad6479c9474d1ea990a7020426cfb0a204051be4b3053d2acc8}{DecoratorType::Repeat}}; \}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21         \textcolor{keywordtype}{void} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a473bd6dbd802031a102dfa6da0177c6d}{start}}(std::shared\_ptr<Context> context) \textcolor{keyword}{final} \textcolor{keyword}{override} \{}
\DoxyCodeLine{22             this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a4c1d1b1dfb9ecef617271f9df625e774}{count}} = 0;}
\DoxyCodeLine{23         \}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25         \textcolor{keyword}{const} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997}{Status}} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a4065977d9235d0861d5e73e6c976e688}{run}}(\textcolor{keyword}{const} \textcolor{keywordtype}{int} tick\_count, std::shared\_ptr<Context> context) \textcolor{keyword}{final} \textcolor{keyword}{override}}
\DoxyCodeLine{26         \{}
\DoxyCodeLine{27             \textcolor{keyword}{auto} status = this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Decorator_af173d187c2207095f51e61aea7dd87d5}{child}}-\/>tick(tick\_count, context);}
\DoxyCodeLine{28             \textcolor{keywordflow}{switch} (status)}
\DoxyCodeLine{29             \{}
\DoxyCodeLine{30             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997a505a83f220c02df2f85c3810cd9ceb38}{Status::Success}}:}
\DoxyCodeLine{31                 this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a4c1d1b1dfb9ecef617271f9df625e774}{count}}++;}
\DoxyCodeLine{32                 \textcolor{keywordflow}{if} (this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a4c1d1b1dfb9ecef617271f9df625e774}{count}} >= this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_ae86585ff8107b5d51f91a09c6d203eb0}{amount}})}
\DoxyCodeLine{33                 \{}
\DoxyCodeLine{34                     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997a505a83f220c02df2f85c3810cd9ceb38}{Status::Success}};}
\DoxyCodeLine{35                 \}}
\DoxyCodeLine{36                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997a5bda814c4aedb126839228f1a3d92f09}{Status::Running}};}
\DoxyCodeLine{37             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997a5bda814c4aedb126839228f1a3d92f09}{Status::Running}}:}
\DoxyCodeLine{38                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997a5bda814c4aedb126839228f1a3d92f09}{Status::Running}};}
\DoxyCodeLine{39             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997ae139a585510a502bbf1841cf589f5086}{Status::Failure}}:}
\DoxyCodeLine{40                 \textcolor{keywordflow}{if} (this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a1d59a502c801e1156349178d5085226c}{break\_on\_fail}})}
\DoxyCodeLine{41                     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997ae139a585510a502bbf1841cf589f5086}{Status::Failure}};}
\DoxyCodeLine{42                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacebehaviour__tree_acc43ccc4dd130eee1c630b2acc709997a5bda814c4aedb126839228f1a3d92f09}{Status::Running}};}
\DoxyCodeLine{43             \}}
\DoxyCodeLine{44         \}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46         \textcolor{keyword}{const} std::string \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a91240f66e36b9c59f6addac025b54ec7}{toString}}() const final\textcolor{keyword}{ override }\{}
\DoxyCodeLine{47             \textcolor{keyword}{const} std::string\& \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}} = this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_ad9b3324377c0a8e45bf05999664aa263}{getName}}();}
\DoxyCodeLine{48             \textcolor{keywordflow}{if} (name != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{49                 \textcolor{keywordflow}{return} fmt::format(R\textcolor{stringliteral}{"{}(<Repeat name='\{\}' amount='\{\}' break\_on\_fail='\{\}'>\{\}</Repeat>)"{}, \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1Node_a24780ba4a95e7495222ead3390bddd35}{name}}, this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_afa81a85109f06453171f8b23af60b0f9}{getAmount}}(), this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a579c0a0b9f3a7aa29b904f42c9977ba3}{getBreakOnFail}}() ? }\textcolor{stringliteral}{"{}true"{}} : \textcolor{stringliteral}{"{}false"{}}, this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Decorator_af173d187c2207095f51e61aea7dd87d5}{child}}-\/>toString());}
\DoxyCodeLine{50             \textcolor{keywordflow}{else}}
\DoxyCodeLine{51                 \textcolor{keywordflow}{return} fmt::format(R\textcolor{stringliteral}{"{}(<Repeat amount='\{\}' break\_on\_fail='\{\}'>\{\}</Repeat>)"{}, this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_afa81a85109f06453171f8b23af60b0f9}{getAmount}}(), this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a579c0a0b9f3a7aa29b904f42c9977ba3}{getBreakOnFail}}() ? }\textcolor{stringliteral}{"{}true"{}} : \textcolor{stringliteral}{"{}false"{}}, this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Decorator_af173d187c2207095f51e61aea7dd87d5}{child}}-\/>toString());}
\DoxyCodeLine{52         \}}
\DoxyCodeLine{53 }
\DoxyCodeLine{54         \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_afa81a85109f06453171f8b23af60b0f9}{getAmount}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{55             \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_ae86585ff8107b5d51f91a09c6d203eb0}{amount}};}
\DoxyCodeLine{56         \}}
\DoxyCodeLine{57 }
\DoxyCodeLine{58         \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a579c0a0b9f3a7aa29b904f42c9977ba3}{getBreakOnFail}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{59             \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a1d59a502c801e1156349178d5085226c}{break\_on\_fail}};}
\DoxyCodeLine{60         \}}
\DoxyCodeLine{61 }
\DoxyCodeLine{62         \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a9bf0d2969e31421f0109b1ee2762f624}{getCount}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{63             \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a4c1d1b1dfb9ecef617271f9df625e774}{count}};}
\DoxyCodeLine{64         \}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     \textcolor{keyword}{private}:}
\DoxyCodeLine{67         \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_ae86585ff8107b5d51f91a09c6d203eb0}{amount}};}
\DoxyCodeLine{68         \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a1d59a502c801e1156349178d5085226c}{break\_on\_fail}};}
\DoxyCodeLine{69     }
\DoxyCodeLine{70         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{classbehaviour__tree_1_1node_1_1decorator_1_1Repeat_a4c1d1b1dfb9ecef617271f9df625e774}{count}} = 0;}
\DoxyCodeLine{71     \};}
\DoxyCodeLine{72 \}}
\DoxyCodeLine{73 }
\DoxyCodeLine{74 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
