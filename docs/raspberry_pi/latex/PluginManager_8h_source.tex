\hypertarget{PluginManager_8h_source}{}\doxysection{Plugin\+Manager.\+h}
\label{PluginManager_8h_source}\index{common/include/car/plugin/PluginManager.h@{common/include/car/plugin/PluginManager.h}}
\mbox{\hyperlink{PluginManager_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef PLUGIN\_MANAGER\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define PLUGIN\_MANAGER\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}utils/Utility.hpp"{}}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}utils/TypeName.hpp"{}}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Plugin_8h}{Plugin.h}}"{}}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacecar_1_1system}{car::system}}}
\DoxyCodeLine{15 \{}
\DoxyCodeLine{16     \textcolor{keyword}{class }CarSystem;}
\DoxyCodeLine{17 \}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacecar_1_1plugin}{car::plugin}}}
\DoxyCodeLine{20 \{}
\DoxyCodeLine{21     \textcolor{keyword}{class }\mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager}{PluginManager}}}
\DoxyCodeLine{22     \{}
\DoxyCodeLine{23     \textcolor{keyword}{public}:}
\DoxyCodeLine{24         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_acc6f2064cad667a51d7309c5b4349c83}{initialize}}(std::shared\_ptr<system::CarSystem> car\_system)}
\DoxyCodeLine{25         \{}
\DoxyCodeLine{26             \textcolor{keywordflow}{for} (std::shared\_ptr<Plugin>\& plugin : this-\/>\mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_a26042e09c9392ce4eabddde6f265334a}{plugins}})}
\DoxyCodeLine{27             \{}
\DoxyCodeLine{28                 plugin-\/>initialize(car\_system);}
\DoxyCodeLine{29             \}}
\DoxyCodeLine{30         \}}
\DoxyCodeLine{31 }
\DoxyCodeLine{32         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_ae3e5bbe8e52062a7f888d076cc92cdc2}{update}}()}
\DoxyCodeLine{33         \{}
\DoxyCodeLine{34             \textcolor{keywordflow}{for} (std::shared\_ptr<Plugin>\& plugin : this-\/>\mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_a26042e09c9392ce4eabddde6f265334a}{plugins}})}
\DoxyCodeLine{35             \{}
\DoxyCodeLine{36                 plugin-\/>update();}
\DoxyCodeLine{37             \}}
\DoxyCodeLine{38         \}}
\DoxyCodeLine{39 }
\DoxyCodeLine{40         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_ab13b0961f3bcfa16b96fdbd12b1a0eac}{stop}}()}
\DoxyCodeLine{41         \{}
\DoxyCodeLine{42             \textcolor{keywordflow}{for} (std::shared\_ptr<Plugin>\& plugin : this-\/>\mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_a26042e09c9392ce4eabddde6f265334a}{plugins}})}
\DoxyCodeLine{43             \{}
\DoxyCodeLine{44                 plugin-\/>stop();}
\DoxyCodeLine{45             \}}
\DoxyCodeLine{46         \}}
\DoxyCodeLine{47 }
\DoxyCodeLine{48         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_aed43214b3fd94b597573681a2cac7d1b}{terminate}}()}
\DoxyCodeLine{49         \{}
\DoxyCodeLine{50             this-\/>\mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_ab13b0961f3bcfa16b96fdbd12b1a0eac}{stop}}();}
\DoxyCodeLine{51         \}}
\DoxyCodeLine{52 }
\DoxyCodeLine{53         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_ad5e71a845e46b1b8e1838b06892a32d6}{addPlugin}}(std::shared\_ptr<Plugin> plugin)}
\DoxyCodeLine{54         \{}
\DoxyCodeLine{55             this-\/>\mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_a26042e09c9392ce4eabddde6f265334a}{plugins}}.push\_back(plugin);}
\DoxyCodeLine{56         \}}
\DoxyCodeLine{57 }
\DoxyCodeLine{58         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{59         std::shared\_ptr<T> \mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_a8eb369a6c295bb57a5581f782aa757e2}{getPlugin}}()}
\DoxyCodeLine{60         \{}
\DoxyCodeLine{61             \textcolor{keyword}{static\_assert}(std::is\_base\_of<Plugin, T>::value, \textcolor{stringliteral}{"{}T must be a Plugin"{}});}
\DoxyCodeLine{62             std::string type\_name = std::string(utils::TypeName<T>());}
\DoxyCodeLine{63             type\_name = utils::getStringAfterLastColon(type\_name);}
\DoxyCodeLine{64 }
\DoxyCodeLine{65             \textcolor{keywordflow}{for} (std::shared\_ptr<Plugin>\& plugin : this-\/>\mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_a26042e09c9392ce4eabddde6f265334a}{plugins}})}
\DoxyCodeLine{66             \{}
\DoxyCodeLine{67                 \textcolor{keywordflow}{if} (plugin-\/>getName() == type\_name)}
\DoxyCodeLine{68                 \{}
\DoxyCodeLine{69                     \textcolor{keywordflow}{return} plugin;}
\DoxyCodeLine{70                 \}}
\DoxyCodeLine{71             \}}
\DoxyCodeLine{72 }
\DoxyCodeLine{73             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{74         \}}
\DoxyCodeLine{75 }
\DoxyCodeLine{76 }
\DoxyCodeLine{77     \textcolor{keyword}{private}:}
\DoxyCodeLine{78         std::vector<std::shared\_ptr<Plugin>> \mbox{\hyperlink{classcar_1_1plugin_1_1PluginManager_a26042e09c9392ce4eabddde6f265334a}{plugins}};}
\DoxyCodeLine{79     \};}
\DoxyCodeLine{80 \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
