\hypertarget{TypeName_8hpp_source}{}\doxysection{Type\+Name.\+hpp}
\label{TypeName_8hpp_source}\index{utils/include/utils/TypeName.hpp@{utils/include/utils/TypeName.hpp}}
\mbox{\hyperlink{TypeName_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// From: https://stackoverflow.com/a/59522794}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <array>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <cstddef>}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceutils}{utils}}}
\DoxyCodeLine{7 \{}
\DoxyCodeLine{8     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{9     \textcolor{keyword}{constexpr} \textcolor{keyword}{const} \textcolor{keyword}{auto} \&\mbox{\hyperlink{namespaceutils_a8bdd194cad79e403ddb53c429d7d7ee7}{RawTypeName}}()}
\DoxyCodeLine{10     \{}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{12         \textcolor{keywordflow}{return} \_\_FUNCSIG\_\_;}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{14         \textcolor{keywordflow}{return} \_\_PRETTY\_FUNCTION\_\_;}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{16     \}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18     \textcolor{keyword}{struct }\mbox{\hyperlink{structutils_1_1RawTypeNameFormat}{RawTypeNameFormat}}}
\DoxyCodeLine{19     \{}
\DoxyCodeLine{20         std::size\_t \mbox{\hyperlink{structutils_1_1RawTypeNameFormat_afc55580e810aa62698670c51b26ccc39}{leading\_junk}} = 0, \mbox{\hyperlink{structutils_1_1RawTypeNameFormat_aa8166e5f57e9ca08f32150be477f68fa}{trailing\_junk}} = 0;}
\DoxyCodeLine{21     \};}
\DoxyCodeLine{22 }
\DoxyCodeLine{23     \textcolor{comment}{// Returns `false` on failure.}}
\DoxyCodeLine{24     \textcolor{keyword}{inline} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceutils_a47fe02b71be5320d11116a1bb9c51b3e}{GetRawTypeNameFormat}}(\mbox{\hyperlink{structutils_1_1RawTypeNameFormat}{RawTypeNameFormat}} *format)}
\DoxyCodeLine{25     \{}
\DoxyCodeLine{26         \textcolor{keyword}{const} \textcolor{keyword}{auto} \&str = RawTypeName<int>();}
\DoxyCodeLine{27         \textcolor{keywordflow}{for} (std::size\_t i = 0;; i++)}
\DoxyCodeLine{28         \{}
\DoxyCodeLine{29             \textcolor{keywordflow}{if} (str[i] == \textcolor{charliteral}{'i'} \&\& str[i + 1] == \textcolor{charliteral}{'n'} \&\& str[i + 2] == \textcolor{charliteral}{'t'})}
\DoxyCodeLine{30             \{}
\DoxyCodeLine{31                 \textcolor{keywordflow}{if} (format)}
\DoxyCodeLine{32                 \{}
\DoxyCodeLine{33                     format-\/>\mbox{\hyperlink{structutils_1_1RawTypeNameFormat_afc55580e810aa62698670c51b26ccc39}{leading\_junk}} = i;}
\DoxyCodeLine{34                     format-\/>\mbox{\hyperlink{structutils_1_1RawTypeNameFormat_aa8166e5f57e9ca08f32150be477f68fa}{trailing\_junk}} = \textcolor{keyword}{sizeof}(str) -\/ i -\/ 3 -\/ 1; \textcolor{comment}{// `3` is the length of "{}int"{}, `1` is the space for the null terminator.}}
\DoxyCodeLine{35                 \}}
\DoxyCodeLine{36                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{37             \}}
\DoxyCodeLine{38         \}}
\DoxyCodeLine{39         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{40     \}}
\DoxyCodeLine{41 }
\DoxyCodeLine{42     \textcolor{keyword}{inline} \textcolor{keyword}{static} \textcolor{keyword}{constexpr} RawTypeNameFormat format =}
\DoxyCodeLine{43         []}
\DoxyCodeLine{44     \{}
\DoxyCodeLine{45         \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespaceutils_a47fe02b71be5320d11116a1bb9c51b3e}{GetRawTypeNameFormat}}(\textcolor{keyword}{nullptr}), \textcolor{stringliteral}{"{}Unable to figure out how to generate type names on this compiler."{}});}
\DoxyCodeLine{46         RawTypeNameFormat format;}
\DoxyCodeLine{47         \mbox{\hyperlink{namespaceutils_a47fe02b71be5320d11116a1bb9c51b3e}{GetRawTypeNameFormat}}(\&format);}
\DoxyCodeLine{48         \textcolor{keywordflow}{return} format;}
\DoxyCodeLine{49     \}();}
\DoxyCodeLine{50 }
\DoxyCodeLine{51     \textcolor{comment}{// Returns the type name in a `std::array<char, N>` (null-\/terminated).}}
\DoxyCodeLine{52     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{53     [[nodiscard]] \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{namespaceutils_a6df2a2d21a248519f547cef2ae977514}{CexprTypeName}}()}
\DoxyCodeLine{54     \{}
\DoxyCodeLine{55         \textcolor{keyword}{constexpr} std::size\_t len = \textcolor{keyword}{sizeof}(RawTypeName<T>()) -\/ format.\mbox{\hyperlink{structutils_1_1RawTypeNameFormat_afc55580e810aa62698670c51b26ccc39}{leading\_junk}} -\/ format.\mbox{\hyperlink{structutils_1_1RawTypeNameFormat_aa8166e5f57e9ca08f32150be477f68fa}{trailing\_junk}};}
\DoxyCodeLine{56         std::array<char, len> name\{\};}
\DoxyCodeLine{57         \textcolor{keywordflow}{for} (std::size\_t i = 0; i < len -\/ 1; i++)}
\DoxyCodeLine{58             name[i] = RawTypeName<T>()[i + format.\mbox{\hyperlink{structutils_1_1RawTypeNameFormat_afc55580e810aa62698670c51b26ccc39}{leading\_junk}}];}
\DoxyCodeLine{59         \textcolor{keywordflow}{return} name;}
\DoxyCodeLine{60     \}}
\DoxyCodeLine{61 }
\DoxyCodeLine{62     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{63     [[nodiscard]] \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespaceutils_abf03f5d8a0b66ee5b196bd2aa695d445}{TypeName}}()}
\DoxyCodeLine{64     \{}
\DoxyCodeLine{65         \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} name = CexprTypeName<T>();}
\DoxyCodeLine{66         \textcolor{keywordflow}{return} name.data();}
\DoxyCodeLine{67     \}}
\DoxyCodeLine{68     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{69     [[nodiscard]] \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespaceutils_abf03f5d8a0b66ee5b196bd2aa695d445}{TypeName}}(\textcolor{keyword}{const} T \&)}
\DoxyCodeLine{70     \{}
\DoxyCodeLine{71         \textcolor{keywordflow}{return} TypeName<T>();}
\DoxyCodeLine{72     \}}
\DoxyCodeLine{73 \}}

\end{DoxyCode}
