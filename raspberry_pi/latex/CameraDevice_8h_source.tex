\hypertarget{CameraDevice_8h_source}{}\doxysection{Camera\+Device.\+h}
\label{CameraDevice_8h_source}\index{include/car/system/device/CameraDevice.h@{include/car/system/device/CameraDevice.h}}
\mbox{\hyperlink{CameraDevice_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef CAMERADEVICE\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define CAMERADEVICE\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <tl/expected.hpp>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <opencv2/opencv.hpp>}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Configuration_8h}{car/configuration/Configuration.h}}"{}}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacecar_1_1system_1_1device}{car::system::device}}}
\DoxyCodeLine{14 \{}
\DoxyCodeLine{15     \textcolor{keyword}{class }\mbox{\hyperlink{classcar_1_1system_1_1device_1_1DeviceManager}{DeviceManager}};}
\DoxyCodeLine{16     \textcolor{keyword}{class }\mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice}{CameraDevice}}}
\DoxyCodeLine{17     \{}
\DoxyCodeLine{18     \textcolor{keyword}{public}:}
\DoxyCodeLine{19         \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a68a0fefa508c20f32d995aa145c544b3}{CameraDevice}}(std::shared\_ptr<configuration::Configuration> \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_af7184782a90080194992a17e1c430fc5}{configuration}}) : \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_af7184782a90080194992a17e1c430fc5}{configuration}}(\mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_af7184782a90080194992a17e1c430fc5}{configuration}}) \{\}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21         \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a721eaf84810ec8ed175b4e045c6326a5}{CameraDevice}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice}{CameraDevice}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{22         \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice}{CameraDevice}}\& \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_ae5927fa09e349c3ef3a7b51aad373c80}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice}{CameraDevice}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{23 }
\DoxyCodeLine{24         \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a0f5fa162baa0c9b962096e4d03486a9c}{CameraDevice}}(\mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice}{CameraDevice}}\&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{25         \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice}{CameraDevice}}\& \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a9afd64db772b091fceb53955af0ac01c}{operator=}}(\mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice}{CameraDevice}}\&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{26 }
\DoxyCodeLine{27         \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a478716da6768a7727da5b77cc8879057}{\string~CameraDevice}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{28 }
\DoxyCodeLine{29     \textcolor{keyword}{public}:}
\DoxyCodeLine{30         [[nodiscard]] \textcolor{keyword}{static} tl::expected<std::unique\_ptr<CameraDevice>, std::string> \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a52a58c798be8faed2f9ee9f04a41a9ce}{create}}(std::shared\_ptr<configuration::Configuration> \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_af7184782a90080194992a17e1c430fc5}{configuration}});}
\DoxyCodeLine{31         std::string \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a4f95920a533262ba847a977099e7b434}{getFrameBuffer}}() \textcolor{keyword}{const};}
\DoxyCodeLine{32 }
\DoxyCodeLine{33     \textcolor{keyword}{protected}:}
\DoxyCodeLine{34         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a2a5967b8be06e88e9b33454a968296dd}{start}}();}
\DoxyCodeLine{35         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a5125e05f251213027dc6a71f26cf1f51}{update}}();}
\DoxyCodeLine{36         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_abd2e4f2001aba5e2bf2fdc79ed9229f1}{stop}}();}
\DoxyCodeLine{37         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a0172dbd229bb34a4602eff8369ba83be}{disconnect}}();}
\DoxyCodeLine{38         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a16f383287517d36f7f739764103e9515}{terminate}}();}
\DoxyCodeLine{39 }
\DoxyCodeLine{40         \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classcar_1_1system_1_1device_1_1DeviceManager}{DeviceManager}};}
\DoxyCodeLine{41 }
\DoxyCodeLine{42     \textcolor{keyword}{private}:}
\DoxyCodeLine{43         std::shared\_ptr<configuration::Configuration> \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_af7184782a90080194992a17e1c430fc5}{configuration}};}
\DoxyCodeLine{44 }
\DoxyCodeLine{45         std::unique\_ptr<cv::VideoCapture> \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a9d05581ab27995253eceb91577a26113}{camera\_}};}
\DoxyCodeLine{46 }
\DoxyCodeLine{47         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_ab959099e81b772b58dcc46250ec9bdfa}{connected\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{48         std::string \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a036e36514811f1a36c1c3ed3d2f06468}{frame\_buffer\_}};}
\DoxyCodeLine{49 }
\DoxyCodeLine{50         std::mutex \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a0e0ab1636019ac35a46182e8796db4bd}{camera\_mutex\_}};}
\DoxyCodeLine{51     }
\DoxyCodeLine{52         std::chrono::steady\_clock::time\_point \mbox{\hyperlink{classcar_1_1system_1_1device_1_1CameraDevice_a56f9e43191419958b6904c0385fa6e4d}{last}};}
\DoxyCodeLine{53     \};}
\DoxyCodeLine{54 \}}
\DoxyCodeLine{55 }
\DoxyCodeLine{56 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
